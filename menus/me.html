<div id="msg">
</div>
<script>
    const msg = document.getElementById('msg');
    fetch('http://127.0.0.1:5000/users/me', {
        method: 'GET',
        headers: {
            'Content-Type': 'application/json'
        },
        credentials: 'include' 
    })
        .then(response => {
            if (!response.ok) {
                return response.text().then(text => { throw new Error(text) })
            }
            return response.text();
            // If login is successful, redirect to the dashboard page
            //window.location.href = 'dashboard.html';
        }).then(data =>{
            msg.textContent = data;
            console.log(data);
        })
        .catch(error => {
            msg.textContent = 'There was a problem with the fetch operation: '+error.message;
            msg.textContent = error.message;
        });
</script>